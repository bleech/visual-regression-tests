<?php

use Vrts\Core\Utilities\Url_Helpers;
use Vrts\Models\Alert;

?>
<div class="vrts-alert-actions">
	<button type="button" data-vrts-action-open class="vrts-alert-actions__trigger" aria-expanded="false" aria-controls="vrts-alert-actions-dropdown">
		<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path d="M6.23096 13.5C5.81846 13.5 5.46537 13.3531 5.17171 13.0592C4.87787 12.7656 4.73096 12.4125 4.73096 12C4.73096 11.5875 4.87787 11.2344 5.17171 10.9408C5.46537 10.6469 5.81846 10.5 6.23096 10.5C6.64346 10.5 6.99662 10.6469 7.29046 10.9408C7.58412 11.2344 7.73096 11.5875 7.73096 12C7.73096 12.4125 7.58412 12.7656 7.29046 13.0592C6.99662 13.3531 6.64346 13.5 6.23096 13.5ZM12.0002 13.5C11.5877 13.5 11.2346 13.3531 10.941 13.0592C10.6471 12.7656 10.5002 12.4125 10.5002 12C10.5002 11.5875 10.6471 11.2344 10.941 10.9408C11.2346 10.6469 11.5877 10.5 12.0002 10.5C12.4127 10.5 12.7658 10.6469 13.0595 10.9408C13.3533 11.2344 13.5002 11.5875 13.5002 12C13.5002 12.4125 13.3533 12.7656 13.0595 13.0592C12.7658 13.3531 12.4127 13.5 12.0002 13.5ZM17.7695 13.5C17.357 13.5 17.0038 13.3531 16.71 13.0592C16.4163 12.7656 16.2695 12.4125 16.2695 12C16.2695 11.5875 16.4163 11.2344 16.71 10.9408C17.0038 10.6469 17.357 10.5 17.7695 10.5C18.182 10.5 18.535 10.6469 18.8287 10.9408C19.1225 11.2344 19.2695 11.5875 19.2695 12C19.2695 12.4125 19.1225 12.7656 18.8287 13.0592C18.535 13.3531 18.182 13.5 17.7695 13.5Z" fill="currentColor"/>
		</svg>
	</button>
	<div id="vrts-alert-actions-dropdown" class="vrts-alert-actions__dropdown" aria-hidden="true">
		<a href="<?php echo esc_url( wp_nonce_url( Url_Helpers::get_mark_as_read_url( $data['run']->id ), 'mark_as_read') ); ?>" class="vrts-alert-actions__dropdown-action">
			<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M3.20573 14.5126C2.82977 14.5126 2.51155 14.3823 2.25107 14.1219C1.99059 13.8614 1.86035 13.5432 1.86035 13.1672V4.6945C1.86035 4.31854 1.99059 4.00032 2.25107 3.73983C2.51155 3.47935 2.82977 3.34911 3.20573 3.34911H10.6652C10.6299 3.53517 10.6111 3.72005 10.6086 3.90375C10.6062 4.08745 10.6203 4.27469 10.6508 4.46546H3.09112L8.93054 8.18661L11.6183 6.47209C11.7491 6.59514 11.8881 6.70603 12.0355 6.80476C12.183 6.9035 12.3373 6.9915 12.4986 7.06878L8.93054 9.34594L2.9767 5.53883V13.1672C2.9767 13.234 2.99816 13.2889 3.04107 13.3319C3.08399 13.3748 3.13888 13.3962 3.20573 13.3962H14.6554C14.7222 13.3962 14.7771 13.3748 14.82 13.3319C14.8629 13.2889 14.8844 13.234 14.8844 13.1672V7.46099C15.0981 7.41323 15.2968 7.35028 15.4805 7.27214C15.6641 7.19387 15.8375 7.09799 16.0007 6.9845V13.1672C16.0007 13.5432 15.8705 13.8614 15.61 14.1219C15.3495 14.3823 15.0313 14.5126 14.6554 14.5126H3.20573ZM14.1402 6.05421C13.5724 6.05421 13.0894 5.855 12.6911 5.45659C12.2927 5.05818 12.0935 4.57517 12.0935 4.00757C12.0935 3.43985 12.2927 2.95678 12.6911 2.55837C13.0894 2.16008 13.5724 1.96094 14.1402 1.96094C14.7079 1.96094 15.1909 2.16008 15.5892 2.55837C15.9876 2.95678 16.1868 3.43985 16.1868 4.00757C16.1868 4.57517 15.9876 5.05818 15.5892 5.45659C15.1909 5.855 14.7079 6.05421 14.1402 6.05421Z" fill="currentColor"/>
			</svg>
			<?php esc_html_e( 'Mark as Unread', 'visual-regression-tests' ); ?>
		</a>
		<button type="button" class="vrts-alert-actions__dropdown-action">
			<svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M11.7393 10.5191L10.9035 9.68332C11.0151 9.06697 10.8393 8.51283 10.376 8.0209C9.91286 7.52908 9.34445 7.33899 8.6708 7.45063L7.83503 6.61486C8.00297 6.53944 8.1752 6.48288 8.35171 6.44517C8.52822 6.40747 8.72141 6.38861 8.93128 6.38861C9.77573 6.38861 10.4926 6.6832 11.0817 7.27238C11.6709 7.86157 11.9655 8.57839 11.9655 9.42284C11.9655 9.63271 11.9467 9.82832 11.9089 10.0097C11.8712 10.1909 11.8147 10.3607 11.7393 10.5191ZM14.1065 12.8348L13.285 12.0649C13.7564 11.7051 14.175 11.3113 14.5409 10.8834C14.9068 10.4555 15.22 9.96861 15.4805 9.42284C14.8603 8.17005 13.9703 7.17464 12.8106 6.43661C11.6508 5.69858 10.3577 5.32957 8.93128 5.32957C8.57157 5.32957 8.21806 5.35438 7.87075 5.40399C7.52344 5.45361 7.18234 5.52803 6.84743 5.62726L5.98022 4.76005C6.45057 4.573 6.93097 4.43513 7.42142 4.34644C7.91187 4.25763 8.41515 4.21322 8.93128 4.21322C10.6754 4.21322 12.2483 4.69412 13.6499 5.65592C15.0515 6.61771 16.0739 7.87335 16.717 9.42284C16.4413 10.0878 16.0852 10.7085 15.6487 11.2849C15.2121 11.8612 14.698 12.3778 14.1065 12.8348ZM14.7076 17.14L11.6965 14.1515C11.3148 14.2928 10.8918 14.4083 10.4276 14.4979C9.9634 14.5876 9.46464 14.6325 8.93128 14.6325C7.18234 14.6325 5.60947 14.1516 4.21267 13.1898C2.81575 12.228 1.79336 10.9723 1.14551 9.42284C1.42025 8.76544 1.77519 8.15219 2.21032 7.5831C2.64544 7.01389 3.12442 6.52034 3.64724 6.10245L1.58628 4.01861L2.3707 3.23438L15.4919 16.3555L14.7076 17.14ZM4.43166 6.88669C4.03846 7.19964 3.65605 7.57584 3.28443 8.01531C2.91281 8.45466 2.61201 8.92383 2.38205 9.42284C3.00224 10.6756 3.89222 11.671 5.05198 12.4091C6.21173 13.1471 7.50484 13.5161 8.93128 13.5161C9.27003 13.5161 9.60735 13.4875 9.94325 13.4302C10.279 13.373 10.5638 13.3139 10.7976 13.2528L9.8558 12.2881C9.72891 12.3396 9.58198 12.3806 9.41503 12.4111C9.24807 12.4417 9.08682 12.4571 8.93128 12.4571C8.08682 12.4571 7.37001 12.1625 6.78082 11.5733C6.19164 10.9841 5.89705 10.2673 5.89705 9.42284C5.89705 9.27213 5.91237 9.11448 5.94301 8.94988C5.97352 8.78528 6.01451 8.63476 6.06599 8.49832L4.43166 6.88669Z" fill="currentColor"/>
			</svg>
			<?php esc_html_e( 'Hide Elements', 'visual-regression-tests' ); ?>
		</button>
		<a href="<?php echo esc_url( wp_nonce_url( Url_Helpers::get_set_false_positive_url( $data['run']->id, $data['alert']->id, $data['alert']->is_false_positive ), 'false_positive' ) ); ?>" class="vrts-alert-actions__dropdown-action">
			<svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M3.57227 9.44481C3.57227 9.44481 4.18622 9.02864 6.02819 9.02864C7.87016 9.02864 9.09807 9.65388 10.94 9.65388C12.782 9.65388 13.3961 9.44481 13.3961 9.44481V3.81851C13.3961 3.81851 12.782 4.02759 10.94 4.02759C9.09807 4.02759 7.87016 3.40234 6.02819 3.40234C4.18622 3.40234 3.57227 3.81851 3.57227 3.81851V9.44481Z" fill="#B32D2E"/>
				<path fill-rule="evenodd" clip-rule="evenodd" d="M3.96947 3.09004C4.40546 2.97183 5.06734 2.86328 6.02839 2.86328C7.00348 2.86328 7.81548 3.02867 8.57604 3.18358L8.59126 3.18668C9.36125 3.34351 10.0799 3.48852 10.9402 3.48852C11.8414 3.48852 12.4309 3.43735 12.7867 3.38889C12.9645 3.36468 13.0833 3.34123 13.153 3.32541C13.1878 3.31751 13.2103 3.31152 13.2217 3.30833L13.2301 3.30589C13.392 3.25305 13.5695 3.2803 13.7082 3.3796C13.8488 3.48021 13.9322 3.64245 13.9322 3.8153V9.44159C13.9322 9.67098 13.7862 9.87492 13.569 9.94885L13.3963 9.44159C13.569 9.94885 13.5688 9.94892 13.5686 9.949L13.5681 9.94916L13.5671 9.9495L13.5649 9.95021L13.56 9.95184L13.5474 9.95583C13.5378 9.95881 13.5257 9.9624 13.511 9.96653C13.4816 9.97477 13.4417 9.98512 13.3902 9.99681C13.2872 10.0202 13.1373 10.049 12.9313 10.0771C12.5196 10.1331 11.8811 10.1865 10.9402 10.1865C9.96516 10.1865 9.15317 10.0211 8.3926 9.86621L8.37738 9.86311C7.6074 9.70629 6.88877 9.56127 6.02839 9.56127C5.14748 9.56127 4.5814 9.66081 4.24991 9.75068C4.08424 9.7956 3.97694 9.83816 3.91784 9.86487C3.88826 9.87824 3.87061 9.8877 3.86363 9.89159C3.86281 9.89205 3.86213 9.89243 3.8616 9.89274C3.69909 9.99691 3.49262 10.0058 3.32145 9.915C3.1462 9.82208 3.03662 9.63995 3.03662 9.44159V3.8153C3.03662 3.6376 3.12472 3.47146 3.27181 3.37175L3.57247 3.8153C3.27181 3.37175 3.27211 3.37154 3.27242 3.37134L3.27304 3.37091L3.27434 3.37004L3.2771 3.3682L3.28334 3.36412L3.2987 3.35444C3.31023 3.34733 3.32437 3.33896 3.34126 3.32953C3.37505 3.31067 3.41976 3.28762 3.47652 3.26197C3.5901 3.21064 3.75141 3.14916 3.96947 3.09004ZM4.10831 4.16639V8.68097C4.54197 8.57734 5.16424 8.48958 6.02839 8.48958C7.00348 8.48958 7.81547 8.65496 8.57604 8.80988L8.59126 8.81298C9.36125 8.9698 10.0799 9.11482 10.9402 9.11482C11.8414 9.11482 12.4309 9.06365 12.7867 9.01518C12.8125 9.01167 12.8371 9.00817 12.8605 9.0047V4.46011C12.4476 4.51263 11.8287 4.56022 10.9402 4.56022C9.96516 4.56022 9.15317 4.39483 8.3926 4.23992L8.37738 4.23682C7.6074 4.07999 6.88877 3.93497 6.02839 3.93497C5.14748 3.93497 4.5814 4.03451 4.24991 4.12439C4.19683 4.13878 4.14974 4.15293 4.10831 4.16639Z" fill="#B32D2E"/>
				<path fill-rule="evenodd" clip-rule="evenodd" d="M4.1088 7.91016V16.8865H3.03711V7.91016H4.1088Z" fill="#B32D2E"/>
			</svg>
			<?php if ( $data['alert']->is_false_positive ) : ?>
				<?php esc_html_e( 'Remove False Positive', 'visual-regression-tests' ); ?>
			<?php else : ?>
				<?php esc_html_e( 'Flag as False Positive', 'visual-regression-tests' ); ?>
			<?php endif; ?>
		</a>
	</div>
</div>
